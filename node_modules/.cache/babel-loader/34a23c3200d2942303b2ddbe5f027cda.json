{"remainingRequest":"C:\\Users\\25974\\Desktop\\云E办-前端-Vue\\云E办-前端-Vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\25974\\Desktop\\云E办-前端-Vue\\云E办-前端-Vue\\src\\utils\\menus.js","dependencies":[{"path":"C:\\Users\\25974\\Desktop\\云E办-前端-Vue\\云E办-前端-Vue\\src\\utils\\menus.js","mtime":1638790448090},{"path":"C:\\Users\\25974\\Desktop\\云E办-前端-Vue\\云E办-前端-Vue\\babel.config.js","mtime":1636369865443},{"path":"C:\\Users\\25974\\Desktop\\云E办-前端-Vue\\云E办-前端-Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\25974\\Desktop\\云E办-前端-Vue\\云E办-前端-Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzLzI1OTc0L0Rlc2t0b3AvXHU0RTkxRVx1NTI5RS1cdTUyNERcdTdBRUYtVnVlL1x1NEU5MUVcdTUyOUUtXHU1MjREXHU3QUVGLVZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0IHsgZ2V0UmVxdWVzdCB9IGZyb20gIi4vYXBpIjsKZXhwb3J0IHZhciBpbml0TWVudSA9IGZ1bmN0aW9uIGluaXRNZW51KHJvdXRlciwgc3RvcmUpIHsKICBpZiAoc3RvcmUuc3RhdGUucm91dGVzLmxlbmd0aCA+IDApIHsKICAgIHJldHVybjsKICB9CgogIGdldFJlcXVlc3QoIi9zeXN0ZW0vY2ZnL21lbnUiKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICBpZiAoZGF0YSkgewogICAgICAvLyAg5qC85byP5YyWUm91dGVyCiAgICAgIHZhciBmbXRSb3V0ZXMgPSBmb3JtYXRSb3V0ZXMoZGF0YSk7IC8vIOa3u+WKoOWIsOi3r+eUsQoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGZtdFJvdXRlcyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciB4ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICByb3V0ZXIuYWRkUm91dGUoeCk7CiAgICAgICAgfSAvL+WwhuaVsOaNruWtmOWFpXZ1ZXgKCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQoKICAgICAgc3RvcmUuY29tbWl0KCdpbml0Um91dGVzJywgZm10Um91dGVzKTsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ2Nvbm5lY3QnKTsKICAgIH0KICB9KTsKfTsgLy8gIHJvdXRlc+aYr+S7juWQjuerr+aOpeaUtui/h+adpeeahGRhdGHmlbDmja4KCmV4cG9ydCB2YXIgZm9ybWF0Um91dGVzID0gZnVuY3Rpb24gZm9ybWF0Um91dGVzKHJvdXRlcykgewogIHZhciBmbXRSb3V0ZXMgPSBbXTsKICByb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgdmFyIHBhdGggPSBpdGVtLnBhdGgsCiAgICAgICAgX2NvbXBvbmVudCA9IGl0ZW0uY29tcG9uZW50LAogICAgICAgIG5hbWUgPSBpdGVtLm5hbWUsCiAgICAgICAgaWNvbkNscyA9IGl0ZW0uaWNvbkNscywKICAgICAgICBjaGlsZHJlbiA9IGl0ZW0uY2hpbGRyZW47CgogICAgaWYgKGNoaWxkcmVuICYmIGNoaWxkcmVuIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgLy8g6YCS5b2SCiAgICAgIGNoaWxkcmVuID0gZm9ybWF0Um91dGVzKGNoaWxkcmVuKTsKICAgIH0KCiAgICB2YXIgZm1Sb3V0ZXIgPSB7CiAgICAgIHBhdGg6IHBhdGgsCiAgICAgIG5hbWU6IG5hbWUsCiAgICAgIGljb25DbHM6IGljb25DbHMsCiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbiwKICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQocmVzb2x2ZSkgewogICAgICAgIGlmIChfY29tcG9uZW50LnN0YXJ0c1dpdGgoJ0hvbWUnKSkgewogICAgICAgICAgcmVxdWlyZShbJy4uL3ZpZXdzLycgKyBfY29tcG9uZW50ICsgJy52dWUnXSwgcmVzb2x2ZSk7CiAgICAgICAgfSBlbHNlIGlmIChfY29tcG9uZW50LnN0YXJ0c1dpdGgoJ0VtcCcpKSB7CiAgICAgICAgICByZXF1aXJlKFsnLi4vdmlld3MvZW1wLycgKyBfY29tcG9uZW50ICsgJy52dWUnXSwgcmVzb2x2ZSk7CiAgICAgICAgfSBlbHNlIGlmIChfY29tcG9uZW50LnN0YXJ0c1dpdGgoJ1BlcicpKSB7CiAgICAgICAgICByZXF1aXJlKFsnLi4vdmlld3MvcGVyLycgKyBfY29tcG9uZW50ICsgJy52dWUnXSwgcmVzb2x2ZSk7CiAgICAgICAgfSBlbHNlIGlmIChfY29tcG9uZW50LnN0YXJ0c1dpdGgoJ1NhbCcpKSB7CiAgICAgICAgICByZXF1aXJlKFsnLi4vdmlld3Mvc2FsLycgKyBfY29tcG9uZW50ICsgJy52dWUnXSwgcmVzb2x2ZSk7CiAgICAgICAgfSBlbHNlIGlmIChfY29tcG9uZW50LnN0YXJ0c1dpdGgoJ1N0YScpKSB7CiAgICAgICAgICByZXF1aXJlKFsnLi4vdmlld3Mvc3RhLycgKyBfY29tcG9uZW50ICsgJy52dWUnXSwgcmVzb2x2ZSk7CiAgICAgICAgfSBlbHNlIGlmIChfY29tcG9uZW50LnN0YXJ0c1dpdGgoJ1N5cycpKSB7CiAgICAgICAgICByZXF1aXJlKFsnLi4vdmlld3Mvc3lzLycgKyBfY29tcG9uZW50ICsgJy52dWUnXSwgcmVzb2x2ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgZm10Um91dGVzLnB1c2goZm1Sb3V0ZXIpOwogIH0pOwogIHJldHVybiBmbXRSb3V0ZXM7Cn07"},{"version":3,"sources":["C:/Users/25974/Desktop/云E办-前端-Vue/云E办-前端-Vue/src/utils/menus.js"],"names":["getRequest","initMenu","router","store","state","routes","length","then","data","fmtRoutes","formatRoutes","x","addRoute","commit","dispatch","forEach","item","path","component","name","iconCls","children","Array","fmRouter","resolve","startsWith","require","push"],"mappings":"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","sourcesContent":["import { getRequest } from \"./api\";\r\n\r\nexport const initMenu = (router, store) => {\r\n    if (store.state.routes.length > 0) {\r\n        return;\r\n    }\r\n    getRequest(\"/system/cfg/menu\").then(data => {\r\n        if (data) {\r\n            //  格式化Router\r\n            let fmtRoutes = formatRoutes(data);\r\n            // 添加到路由\r\n            for (let x of fmtRoutes) {\r\n                router.addRoute(x)\r\n            }\r\n            //将数据存入vuex\r\n            store.commit('initRoutes', fmtRoutes);\r\n            store.dispatch('connect');\r\n        }\r\n    })\r\n}\r\n\r\n//  routes是从后端接收过来的data数据\r\nexport const formatRoutes = (routes) => {\r\n    let fmtRoutes = [];\r\n    routes.forEach(item => {\r\n        let {\r\n            path,\r\n            component,\r\n            name,\r\n            iconCls,\r\n            children\r\n        } = item;\r\n        if (children && children instanceof Array) {\r\n            // 递归\r\n            children = formatRoutes(children);\r\n        }\r\n        let fmRouter = {\r\n            path: path,\r\n            name: name,\r\n            iconCls: iconCls,\r\n            children: children,\r\n            component(resolve) {\r\n                if (component.startsWith('Home')) {\r\n                    require(['../views/' + component + '.vue'], resolve);\r\n                } else if (component.startsWith('Emp')) {\r\n                    require(['../views/emp/' + component + '.vue'], resolve);\r\n                } else if (component.startsWith('Per')) {\r\n                    require(['../views/per/' + component + '.vue'], resolve);\r\n                } else if (component.startsWith('Sal')) {\r\n                    require(['../views/sal/' + component + '.vue'], resolve);\r\n                } else if (component.startsWith('Sta')) {\r\n                    require(['../views/sta/' + component + '.vue'], resolve);\r\n                } else if (component.startsWith('Sys')) {\r\n                    require(['../views/sys/' + component + '.vue'], resolve);\r\n                }\r\n            }\r\n        }\r\n        fmtRoutes.push(fmRouter)\r\n    });\r\n    return fmtRoutes;\r\n}"]}]}